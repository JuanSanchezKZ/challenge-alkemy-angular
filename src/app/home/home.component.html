
  <div class="container-fluid">
    <div class="mt-5 menu-title text-center">DISFRUTÁ DE NUESTRO MENÚ</div>
    <div class="container-sm mt-3">
      <div class="row justify-content-center">
        <div class="col-lg-3 col-md-6 col-sm-6" *ngFor="let i of menu">
          <app-menu-item [item]="i"></app-menu-item>
          <div class="d-flex justify-content-center">
            <button class="button-primary" (click)="removeFromMenu(i)">
              Remover
            </button>
            <button class="button-secondary" (click)="openModal(template, i)">
              Detalles
            </button>
          </div>
        </div>
      </div>
      <div class="row data align-items-end">
        <div class="col">
          <p>Promedio de HealthScore: {{ totalProm }}</p>
          <p>Precio Total: {{ totalPrice | currency }}</p>
          <div class="row">
            <div class="col-sm">
              Tiempo de Preparación Promedio: {{ promPrep }} minutos.
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />
    <div class="row justify-content-center">
      <hr />
    </div>

    <div class="mt-5 mb-5 dish-title text-center">
      BUSCÁ UN PLATO Y AGREGALO AL MENÚ!
    </div>

    <form class="row g-3 justify-content-center">
      <input
        class="form-control form"
        type="text"
        #searchInput
        placeholder="Ejemplo: calzon"
      />
    </form>

    <br />
    <div class="row justify-content-center">
      <hr />
    </div>
    <div class="container-sm mt-3">
      <p class="results text-center">RESULTADOS</p>
      <div class="row mt-5">
        <div class="col-lg-3 col-md-6 col-sm-6" *ngFor="let i of results">
          <app-menu-item [item]="i"></app-menu-item>
          <div class="d-flex justify-content-center">
            <button class="button-primary" (click)="addToMenu(i)">
              Agregar
            </button>
            <button class="button-secondary" (click)="openModal(template, i)">
              Detalles
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #template>
    <div class="modal-header text-center">
      <h4 class="modal-title">{{ modalDetails.title }}</h4>
      <button
        type="button"
        class="btn-close close pull-right"
        aria-label="Close"
        (click)="modalRef?.hide()"
      >
        <span aria-hidden="true" class="visually-hidden">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-6">
            <img class="img-fluid" [src]="modalDetails.image" alt="image" />
          </div>
          <div class="col-sm-6">
            <p class="card-text">
              {{ modalDetails.pricePerServing | currency }}
            </p>
            <p class="card-text">Healthscore: {{ modalDetails.healthScore }}</p>
            <div class="card-text">
              Vegano:
              <div *ngIf="modalDetails.vegan; else elseBlock">Sí</div>
              <ng-template #elseBlock>No</ng-template>
            </div>
            <p class="card-text mt-3">
              Tiempo de Preparación: {{ modalDetails.readyInMinutes }} minutos.
            </p>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

